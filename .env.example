# ============================================
# OCP Platform - Environment Configuration
# ============================================

# Copy this file to .env and update with your values
# DO NOT commit .env to version control!

# ============================================
# DATABASE CONFIGURATION
# ============================================

DATABASE_URL=postgresql://ocpuser:ocppassword@localhost:5432/ocplatform
REDIS_URL=redis://localhost:6379/0

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ============================================
# SERVICE ENDPOINTS
# ============================================

ORCHESTRATOR_URL=http://localhost:8000
NLU_SERVICE_URL=http://localhost:8001
STT_SERVICE_URL=http://localhost:8002
TTS_SERVICE_URL=http://localhost:8003
CHAT_CONNECTOR_URL=http://localhost:8004

# ============================================
# SECURITY & AUTHENTICATION
# ============================================

# JWT Secret (Generate with: openssl rand -hex 32)
JWT_SECRET=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# API Keys
API_KEY=your-api-key-change-in-production

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================
# ML MODEL PATHS
# ============================================

# NLU Models
NLU_MODEL_PATH=/models/nlu/intent-classifier
NLU_ENTITY_MODEL_PATH=/models/nlu/entity-extractor

# Speech-to-Text
STT_MODEL_PATH=/models/whisper/base
STT_MODEL_SIZE=base  # tiny, base, small, medium, large
STT_DEVICE=cpu  # cpu or cuda
STT_COMPUTE_TYPE=int8  # int8, float16, float32

# Text-to-Speech
TTS_MODEL_PATH=/models/tts/vits
TTS_VOICE_ID=default
TTS_SAMPLE_RATE=22050

# ============================================
# KAFKA CONFIGURATION (Phase 4+)
# ============================================

KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP=ocp-consumers
KAFKA_AUTO_OFFSET_RESET=earliest

# Topics
KAFKA_VOICE_EVENTS_TOPIC=voice-events
KAFKA_CHAT_EVENTS_TOPIC=chat-events
KAFKA_NLU_PREDICTIONS_TOPIC=nlu-predictions

# ============================================
# OBSERVABILITY (Phase 5+)
# ============================================

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text

# Metrics
PROMETHEUS_PORT=9090
ENABLE_METRICS=true

# Tracing
JAEGER_ENABLED=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLER_TYPE=probabilistic
JAEGER_SAMPLER_PARAM=0.1

# ============================================
# SIP/VOICE CONFIGURATION (Phase 3+)
# ============================================

# FreeSWITCH
FREESWITCH_HOST=localhost
FREESWITCH_ESL_PORT=8021
FREESWITCH_ESL_PASSWORD=ClueCon

# SIP Provider
SIP_TRUNK_HOST=sip.example.com
SIP_TRUNK_USERNAME=your-username
SIP_TRUNK_PASSWORD=your-password
SIP_TRUNK_PORT=5060

# ============================================
# STORAGE (Phase 3+)
# ============================================

# MinIO (S3-compatible)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_AUDIO=audio-recordings
MINIO_BUCKET_BACKUPS=backups
MINIO_USE_SSL=false

# ============================================
# EXTERNAL API INTEGRATIONS
# ============================================

# Example: Mock Banking API
BANKING_API_URL=https://api.example.com
BANKING_API_KEY=your-api-key
BANKING_API_TIMEOUT_MS=5000

# ============================================
# FEATURE FLAGS
# ============================================

ENABLE_VOICE_CHANNEL=false
ENABLE_CHAT_CHANNEL=true
ENABLE_API_CHANNEL=true
ENABLE_A_B_TESTING=false
ENABLE_AUTO_RETRAINING=false

# ============================================
# DEVELOPMENT SETTINGS
# ============================================

ENVIRONMENT=development  # development, staging, production
DEBUG=true
RELOAD=true  # Auto-reload on code changes

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100

# Session Timeouts
SESSION_TIMEOUT_SECONDS=1800  # 30 minutes
TURN_TIMEOUT_SECONDS=300  # 5 minutes
